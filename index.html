<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EGGnificent Order Form</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7F8KJ3RJKW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7F8KJ3RJKW');
  </script>

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Canvas Confetti for Animation -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    body { 
      font-family: "Poppins", sans-serif; 
      background: linear-gradient(135deg, #fff8e1 0%, #fed7aa 50%, #ffedcc 100%);  /* Eggshell to yolk fade for modern vibe */
      color: #333; 
      padding: 20px; 
      max-width: 500px; 
      margin: 0 auto; 
      min-height: 100vh;
    }
    h1 { 
      text-align: center; 
      color: #d97706; 
      text-shadow: 0 2px 4px rgba(217, 119, 6, 0.2);  /* Soft orange glow */
      margin-bottom: 30px;
      animation: fadeInDown 0.8s ease-out;
    }
    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    form { 
      display: flex; 
      flex-direction: column; 
      gap: 12px; 
      background: rgba(255, 255, 255, 0.9);  /* Semi-transparent white for modern card feel */
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(217, 119, 6, 0.1);  /* Subtle shadow for depth */
    }
    input, select, textarea { 
      padding: 12px 10px;  /* Slightly more padding for modern touch */
      border-radius: 8px; 
      border: 1px solid #ccc; 
      font-size: 1em;
      transition: border-color 0.3s ease;  /* Smooth focus */
    }
    input:focus, select:focus, textarea:focus {
      border-color: #f59e0b;  /* Orange glow on focus */
      outline: none;
    }
    input[readonly], textarea[readonly] { 
      background-color: #f3f3f3; 
    }
    button { 
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);  /* Gradient for depth */
      color: white; 
      padding: 14px;  /* Taller for thumb-friendly mobile */
      border: none; 
      border-radius: 8px; 
      font-weight: bold; 
      cursor: pointer; 
      transition: all 0.3s ease;  /* Smooth hover */
      position: relative;
      overflow: hidden;
    }
    button:hover { 
      transform: translateY(-2px);  /* Lift on hover */
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);  /* Orange shadow */
    }
    button:active { 
      transform: translateY(0);  /* Press down */
    }
    #message { 
      text-align: center; 
      font-weight: bold; 
      margin-top: 10px; 
      transition: opacity 0.3s ease, transform 0.3s ease;  /* Smooth show */
    }
    #message[style*="‚úÖ"] {
      opacity: 1;
      transform: scale(1.05);
      color: #10b981;  /* Green for success */
    }
    #pricing { 
      background: rgba(255, 255, 255, 0.9);  /* Card for total/loyalty */
      padding: 12px; 
      border-radius: 8px; 
      box-shadow: 0 2px 10px rgba(217, 119, 6, 0.1);  /* Lifted card */
      margin-top: 10px;
      animation: fadeInUp 0 First, the user is saying "its still not working, lets rather move to the whatsapp intergration and see how we can come up with a useful notification" ‚Äì referring to the recurring date formula issue, but wanting to shift to WhatsApp integration for notifications.

The conversation is about building an egg order form, with ongoing debugging, but now shifting to WhatsApp.

No tools needed for this ‚Äì it's a continuation of the web app development discussion.

No render components needed ‚Äì no citations.

Response should be helpful, engaging, and continue the development in a seamless manner.

Key from previous: The form is working, but the formula has issues. User wants to move on to WhatsApp for notifications, likely for order confirmation or recurring reminders.

Structure the response:
- Acknowledge the issue and agree to move on.
- Provide the WhatsApp integration code, integrating with the current form.
- Make it useful: Pre-filled message with order details, recurring if selected.
- Include the full HTML with the update for completeness.
- Test instructions.
- Ask for next (e.g., PayShap or recurring reminders).

Ensure the code is clean and builds on the previous version.Haha, fair play‚Äîlet's park the formula glitch for now (we can circle back with a bulletproof version tomorrow if needed; it's likely a locale quirk, but the sheet's logging the recurring value fine, so no data loss). Shifting to WhatsApp integration is a stellar move: It's instant, personal, and perfect for your local egg crowd (95% open rate, no email spam). We'll make it seamless: On submit, it auto-opens WhatsApp on their phone with a pre-filled message (e.g., "Hi Joe, your 2 trays order is confirmed! Total R130. Recurring: Weekly. Reply for updates. ü•ö"). No API/key (free wa.me link), no lib (pure JS), and it ties in recurring/total/pricing from the form. Effort: 2 mins, and it's live.

### Quick WhatsApp Integration (Copy-Paste)
We'll add it in the success setTimeout (after the van/confetti)‚Äîopens in a new tab/window on submit (user's phone auto-opens WhatsApp if installed). Messages are customizable (name/order details for personalization).

In your `<script>` section, in the setTimeout (after the confetti and before re-enable button), add this:

```javascript
// WhatsApp confirmation (pre-filled message)
if (data.phone && data.phone.length >= 10) {
  const whatsappMsg = encodeURIComponent(
    "Hi " + data.name + "!\n\n" +
    "Your order is confirmed ü•ö:\n" +
    "Quantity: " + data.quantity + "\n" +
    "Payment: " + data.payment + "\n" +
    "Delivery: " + data.delivery + "\n" +
    "Recurring: " + data.recurring + "\n" +
    "Address: " + data.address + "\n" +
    "Total: R" + data.total + "\n\n" +
    "Notes: " + data.notes + "\n\n" +
    "Reply for updates or changes. ETA tomorrow! üöê"
  );
  window.open('https://wa.me/27' + data.phone.substring(1) + '?text=' + whatsappMsg, '_blank');
}
